<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>HealthCare AI Assistant</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
            padding: 20px;
        }

        .container {
            width: 100%;
            max-width: 900px;
            background: white;
            border-radius: 20px;
            box-shadow: 0 20px 60px rgba(0, 0, 0, 0.3);
            overflow: hidden;
            display: flex;
            flex-direction: column;
            height: 90vh;
            max-height: 700px;
        }

        .header {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 25px 30px;
            display: flex;
            align-items: center;
            gap: 15px;
        }

        .header-icon {
            width: 50px;
            height: 50px;
            background: rgba(255, 255, 255, 0.2);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 24px;
        }

        .header-content h1 {
            font-size: 24px;
            font-weight: 600;
            margin-bottom: 5px;
        }

        .header-content p {
            font-size: 14px;
            opacity: 0.9;
        }

        .chat-container {
            flex: 1;
            overflow-y: auto;
            padding: 30px;
            background: #f5f7fb;
        }

        .message {
            margin-bottom: 20px;
            display: flex;
            align-items: flex-start;
            animation: fadeIn 0.3s ease-in;
        }

        @keyframes fadeIn {
            from {
                opacity: 0;
                transform: translateY(10px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .message.user {
            flex-direction: row-reverse;
        }

        .message-avatar {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 18px;
            flex-shrink: 0;
        }

        .message.bot .message-avatar {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
        }

        .message.user .message-avatar {
            background: #34d399;
            color: white;
        }

        .message-content {
            max-width: 70%;
            margin: 0 15px;
        }

        .message-bubble {
            padding: 12px 18px;
            border-radius: 18px;
            line-height: 1.5;
            font-size: 15px;
        }

        .message.bot .message-bubble {
            background: white;
            color: #333;
            border-bottom-left-radius: 4px;
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
        }

        .message.user .message-bubble {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            border-bottom-right-radius: 4px;
        }

        .message-time {
            font-size: 11px;
            color: #999;
            margin-top: 5px;
            padding: 0 5px;
        }

        .input-container {
            padding: 20px 30px;
            background: white;
            border-top: 1px solid #e5e7eb;
            display: flex;
            gap: 15px;
            align-items: center;
        }

        .input-wrapper {
            flex: 1;
            position: relative;
        }

        #userInput {
            width: 100%;
            padding: 15px 20px;
            border: 2px solid #e5e7eb;
            border-radius: 25px;
            font-size: 15px;
            outline: none;
            transition: all 0.3s;
        }

        #userInput:focus {
            border-color: #667eea;
            box-shadow: 0 0 0 3px rgba(102, 126, 234, 0.1);
        }

        #sendBtn {
            width: 50px;
            height: 50px;
            border: none;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            border-radius: 50%;
            cursor: pointer;
            font-size: 20px;
            transition: all 0.3s;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        #sendBtn:hover {
            transform: scale(1.05);
            box-shadow: 0 5px 15px rgba(102, 126, 234, 0.4);
        }

        #sendBtn:active {
            transform: scale(0.95);
        }

        .welcome-message {
            text-align: center;
            padding: 40px 20px;
            color: #666;
        }

        .welcome-message h2 {
            color: #333;
            margin-bottom: 15px;
            font-size: 22px;
        }

        .quick-actions {
            display: flex;
            flex-wrap: wrap;
            gap: 10px;
            justify-content: center;
            margin-top: 25px;
        }

        .quick-action-btn {
            padding: 10px 20px;
            background: white;
            border: 2px solid #e5e7eb;
            border-radius: 20px;
            cursor: pointer;
            font-size: 14px;
            transition: all 0.3s;
            color: #667eea;
            font-weight: 500;
        }

        .quick-action-btn:hover {
            background: #667eea;
            color: white;
            border-color: #667eea;
            transform: translateY(-2px);
        }

        .typing-indicator {
            display: none;
            align-items: center;
            gap: 5px;
            padding: 12px 18px;
            background: white;
            border-radius: 18px;
            border-bottom-left-radius: 4px;
            width: fit-content;
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
        }

        .typing-indicator span {
            width: 8px;
            height: 8px;
            background: #667eea;
            border-radius: 50%;
            animation: typing 1.4s infinite;
        }

        .typing-indicator span:nth-child(2) {
            animation-delay: 0.2s;
        }

        .typing-indicator span:nth-child(3) {
            animation-delay: 0.4s;
        }

        @keyframes typing {
            0%, 60%, 100% {
                transform: translateY(0);
                opacity: 0.7;
            }
            30% {
                transform: translateY(-10px);
                opacity: 1;
            }
        }

        .emergency-notice {
            background: #fef2f2;
            border-left: 4px solid #ef4444;
            padding: 15px;
            margin: 20px 0;
            border-radius: 8px;
            font-size: 14px;
            color: #991b1b;
        }

        .emergency-notice strong {
            display: block;
            margin-bottom: 5px;
            color: #dc2626;
        }

        @media (max-width: 768px) {
            .container {
                height: 100vh;
                max-height: 100vh;
                border-radius: 0;
            }

            .message-content {
                max-width: 85%;
            }

            .quick-actions {
                flex-direction: column;
            }

            .quick-action-btn {
                width: 100%;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <div class="header-icon">üè•</div>
            <div class="header-content">
                <h1>HealthCare AI Assistant</h1>
                <p>Your 24/7 Virtual Healthcare Companion</p>
            </div>
        </div>

        <div class="chat-container" id="chatContainer">
            <div class="welcome-message">
                <h2>Welcome to HealthCare AI Assistant! üëã</h2>
                <p>I'm here to help you with health information, appointment booking, and general wellness tips.</p>
                <div class="emergency-notice">
                    <strong>‚ö†Ô∏è Important Notice:</strong>
                    For medical emergencies, please call your local emergency number immediately. This chatbot is for informational purposes only and does not replace professional medical advice.
                </div>
                <div class="quick-actions">
                    <button class="quick-action-btn" onclick="sendQuickMessage('Hello')">üëã Say Hello</button>
                    <button class="quick-action-btn" onclick="sendQuickMessage('Book an appointment')">üìÖ Book Appointment</button>
                    <button class="quick-action-btn" onclick="sendQuickMessage('Health tips')">üí™ Health Tips</button>
                    <button class="quick-action-btn" onclick="sendQuickMessage('I have a headache')">ü§í Report Symptoms</button>
                </div>
            </div>
        </div>

        <div class="input-container">
            <div class="input-wrapper">
                <input type="text" id="userInput" placeholder="Type your message here..." autocomplete="off">
            </div>
            <button id="sendBtn" onclick="sendMessage()">
                ‚û§
            </button>
        </div>
    </div>

    <script>
        // Simulated intents database (matches Python backend)
        const intents = {
            "greeting": [
                "Hello! I'm your healthcare assistant. How can I help you today?",
                "Hi there! What can I do for you?",
                "Greetings! How may I assist you with your healthcare needs?",
                "Hello! I'm here to help. What brings you here today?"
            ],
            "goodbye": [
                "Goodbye! Take care of your health!",
                "See you later! Stay healthy!",
                "Bye! Don't hesitate to reach out if you need help.",
                "Take care! Wishing you good health!"
            ],
            "thanks": [
                "You're welcome! Feel free to ask if you need more help.",
                "Happy to help! Stay healthy!",
                "My pleasure! Take care!",
                "Glad I could assist you!"
            ],
            "symptoms": [
                "I'm sorry to hear you're not feeling well. Can you describe your symptoms in detail?",
                "Please tell me more about your symptoms so I can better assist you.",
                "I understand you're experiencing discomfort. For severe symptoms, please consult a doctor immediately.",
                "Your health is important. If symptoms are severe, seek medical attention right away."
            ],
            "appointment": [
                "I can help you book an appointment. What date and time would work for you?",
                "Sure! Let me schedule an appointment for you. Which specialist do you need?",
                "I'll assist you with booking. Please provide your preferred date and doctor specialty.",
                "Great! To book an appointment, I'll need your preferred time and the type of consultation."
            ],
            "emergency": [
                "This sounds urgent! Please call emergency services immediately at your local emergency number!",
                "EMERGENCY: Please dial emergency services (911 or your local emergency number) right away!",
                "This requires immediate medical attention! Please go to the nearest emergency room or call emergency services!",
                "Please seek immediate medical help! Call emergency services or go to the nearest hospital!"
            ],
            "medication": [
                "I cannot prescribe medication. Please consult a licensed healthcare provider for prescriptions.",
                "For medication advice, you must speak with a doctor or pharmacist.",
                "Medication should only be taken as prescribed by a qualified healthcare professional.",
                "Please consult your doctor for appropriate medication and dosage."
            ],
            "health_tips": [
                "Here are some tips: Eat a balanced diet, exercise regularly, stay hydrated, and get adequate sleep!",
                "Maintain good health by: eating fruits and vegetables, exercising 30 minutes daily, and managing stress.",
                "Healthy habits include: regular exercise, balanced nutrition, adequate sleep (7-8 hours), and stress management.",
                "Stay healthy with: proper hydration, nutritious meals, regular physical activity, and routine health checkups!"
            ]
        };

        // Simple intent detection (client-side simulation)
        function detectIntent(message) {
            message = message.toLowerCase();
            
            if (/(hi|hello|hey|good morning|good evening|greetings)/i.test(message)) {
                return 'greeting';
            } else if (/(bye|goodbye|see you|take care|later)/i.test(message)) {
                return 'goodbye';
            } else if (/(thank|thanks|appreciate)/i.test(message)) {
                return 'thanks';
            } else if (/(fever|sick|headache|pain|cold|cough|dizzy|throat|chest)/i.test(message)) {
                return 'symptoms';
            } else if (/(appointment|book|schedule|consultation|doctor|reserve)/i.test(message)) {
                return 'appointment';
            } else if (/(emergency|urgent|critical|serious|can't breathe|life threatening)/i.test(message)) {
                return 'emergency';
            } else if (/(medication|medicine|drug|prescription|side effect)/i.test(message)) {
                return 'medication';
            } else if (/(health tip|wellness|healthy|fitness|nutrition|stay healthy)/i.test(message)) {
                return 'health_tips';
            }
            return 'unknown';
        }

        function getResponse(intent) {
            if (intent === 'unknown') {
                return "I'm not sure I understand. Could you rephrase that? You can ask me about symptoms, appointments, health tips, or general healthcare questions.";
            }
            const responses = intents[intent];
            return responses[Math.floor(Math.random() * responses.length)];
        }

        function getCurrentTime() {
            const now = new Date();
            return now.toLocaleTimeString('en-US', { hour: '2-digit', minute: '2-digit' });
        }

        function addMessage(message, isUser) {
            const chatContainer = document.getElementById('chatContainer');
            const welcomeMessage = chatContainer.querySelector('.welcome-message');
            if (welcomeMessage) {
                welcomeMessage.remove();
            }

            const messageDiv = document.createElement('div');
            messageDiv.className = `message ${isUser ? 'user' : 'bot'}`;
            
            messageDiv.innerHTML = `
                <div class="message-avatar">${isUser ? 'üë§' : 'ü§ñ'}</div>
                <div class="message-content">
                    <div class="message-bubble">${message}</div>
                    <div class="message-time">${getCurrentTime()}</div>
                </div>
            `;
            
            chatContainer.appendChild(messageDiv);
            chatContainer.scrollTop = chatContainer.scrollHeight;
        }

        function showTypingIndicator() {
            const chatContainer = document.getElementById('chatContainer');
            const typingDiv = document.createElement('div');
            typingDiv.className = 'message bot';
            typingDiv.id = 'typingIndicator';
            typingDiv.innerHTML = `
                <div class="message-avatar">ü§ñ</div>
                <div class="message-content">
                    <div class="typing-indicator" style="display: flex;">
                        <span></span>
                        <span></span>
                        <span></span>
                    </div>
                </div>
            `;
            chatContainer.appendChild(typingDiv);
            chatContainer.scrollTop = chatContainer.scrollHeight;
        }

        function hideTypingIndicator() {
            const typingIndicator = document.getElementById('typingIndicator');
            if (typingIndicator) {
                typingIndicator.remove();
            }
        }

        function sendMessage() {
            const input = document.getElementById('userInput');
            const message = input.value.trim();
            
            if (message === '') return;
            
            // Add user message
            addMessage(message, true);
            input.value = '';
            
            // Show typing indicator
            showTypingIndicator();
            
            // Simulate processing delay
            setTimeout(() => {
                hideTypingIndicator();
                
                // Detect intent and get response
                const intent = detectIntent(message);
                const response = getResponse(intent);
                
                // Add bot response
                addMessage(response, false);
            }, 1000 + Math.random() * 1000);
        }

        function sendQuickMessage(message) {
            document.getElementById('userInput').value = message;
            sendMessage();
        }

        // Enter key to send message
        document.getElementById('userInput').addEventListener('keypress', function(e) {
            if (e.key === 'Enter') {
                sendMessage();
            }
        });

        // Initial greeting
        setTimeout(() => {
            addMessage("Hello! I'm your healthcare assistant. How can I help you today?", false);
        }, 500);
    </script>
</body>
</html>